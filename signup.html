<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title data-i18n="pageTitle">Flux On | Premium Workspace</title>
  
  <link rel="icon" href="/Flow Project/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="/Flow Project/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/Flow Project/favicon-16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/Flow Project/apple-touch-icon.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Mono:wght@700&display=swap" rel="stylesheet">
  
  <!-- i18next Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/i18next/23.7.6/i18next.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/i18next-browser-languagedetector/7.1.0/i18nextBrowserLanguageDetector.min.js"></script>

  <style>
    :root {
      --primary: #000000;
      --accent: #2563eb;
      --error: #dc2626;
      --bg-gradient: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      --glass-bg: rgba(255, 255, 255, 0.95);
      --radius: 12px;
      --shadow-elite: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }

    * { box-sizing: border-box; outline: none; }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg-gradient);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      color: #1e293b;
    }

    /* Language Selector */
    .language-selector {
      position: absolute;
      top: 20px;
      right: 20px;
      z-index: 100;
    }

    .language-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--glass-bg);
      border: 1px solid #e2e8f0;
      border-radius: 30px;
      padding: 8px 16px;
      font-size: 14px;
      cursor: pointer;
      color: #1e293b;
      transition: all 0.2s;
      box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
    }

    .language-btn:hover {
      background: #fff;
      border-color: var(--primary);
      transform: translateY(-1px);
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
    }

    .language-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      background: #fff;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      box-shadow: var(--shadow-elite);
      z-index: 1000;
      max-height: 400px;
      overflow-y: auto;
      width: 280px;
      display: none;
      margin-top: 8px;
    }

    .language-dropdown.show {
      display: block;
    }

    .language-option {
      padding: 10px 15px;
      cursor: pointer;
      transition: background 0.2s;
      font-size: 13px;
      border-bottom: 1px solid #f1f5f9;
    }

    .language-option:last-child {
      border-bottom: none;
    }

    .language-option:hover {
      background: #f8fafc;
    }

    .language-option.active {
      background: #e2e8f0;
      color: var(--primary);
      font-weight: 600;
    }

    .language-dropdown::-webkit-scrollbar {
      width: 6px;
    }

    .language-dropdown::-webkit-scrollbar-track {
      background: #f1f5f9;
    }

    .language-dropdown::-webkit-scrollbar-thumb {
      background: #94a3b8;
      border-radius: 3px;
    }

    /* AUTH CONTAINER */
    .auth-card {
      width: 100%;
      max-width: 420px;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.5);
      border-radius: 24px;
      box-shadow: var(--shadow-elite);
      overflow: hidden;
      transition: transform 0.3s ease;
    }

    /* HEADER & LOGO */
    .brand-section {
      padding: 40px 40px 20px;
      text-align: center;
    }

    .logo-box {
      width: 48px;
      height: 48px;
      background: #000;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px;
      font-family: 'Space Mono', monospace;
      font-size: 24px;
      margin: 0 auto 16px;
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.2);
    }

    .brand-name {
      font-weight: 800;
      font-size: 22px;
      letter-spacing: -0.02em;
      margin: 0;
    }

    /* TABS */
    .auth-tabs {
      display: flex;
      padding: 8px;
      background: #f1f5f9;
      margin: 0 40px 24px;
      border-radius: 12px;
    }

    .tab-btn {
      flex: 1;
      padding: 10px;
      border: none;
      background: transparent;
      font-weight: 600;
      font-size: 14px;
      color: #64748b;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    .tab-btn.active {
      background: #fff;
      color: #000;
      box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
    }

    /* FORMS */
    .form-content {
      padding: 0 40px 40px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 8px;
      color: #475569;
    }

    .form-control {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #e2e8f0;
      border-radius: 10px;
      font-size: 15px;
      transition: all 0.2s;
      background: #f8fafc;
    }

    .form-control:focus {
      background: #fff;
      border-color: #000;
      box-shadow: 0 0 0 4px rgba(0,0,0,0.05);
    }

    /* BUTTONS */
    .btn-submit {
      width: 100%;
      padding: 14px;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 10px;
    }

    .btn-submit:hover {
      background: #1e293b;
      transform: translateY(-1px);
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
    }

    .btn-submit:disabled {
      background: #94a3b8;
      cursor: not-allowed;
      transform: none;
    }

    /* ERROR AREA */
    .error-box {
      background: #fff1f2;
      border-left: 4px solid var(--error);
      color: #991b1b;
      padding: 12px 16px;
      border-radius: 8px;
      margin-bottom: 24px;
      font-size: 13px;
      display: none;
      line-height: 1.4;
    }

    .forgot-link {
      display: block;
      text-align: center;
      margin-top: 20px;
      font-size: 13px;
      color: #64748b;
      text-decoration: none;
      transition: color 0.2s;
    }

    .forgot-link:hover {
      color: #000;
      text-decoration: underline;
    }

    .hidden { display: none; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate-fade { animation: fadeIn 0.4s ease forwards; }
  </style>
</head>
<body>

  <!-- Language Selector -->
  <div class="language-selector">
    <button class="language-btn" onclick="toggleLanguageDropdown()">
      <span>ğŸŒ</span>
      <span id="currentLanguage">English</span>
      <span>â–¼</span>
    </button>
    <div class="language-dropdown" id="languageDropdown"></div>
  </div>

  <div class="auth-card">
    <div class="brand-section">
      <div class="logo-box">F</div>
      <h1 class="brand-name" data-i18n="brandName">Flux On</h1>
    </div>

    <div class="auth-tabs">
      <button class="tab-btn active" id="tab-signup" onclick="switchTab('signup')" data-i18n="tabs.signup">Sign Up</button>
      <button class="tab-btn" id="tab-login" onclick="switchTab('login')" data-i18n="tabs.login">Log In</button>
    </div>

    <div class="form-content">
      <div id="error-display" class="error-box"></div>

      <form id="signupForm" class="animate-fade">
        <div class="form-group">
          <label class="form-label" data-i18n="labels.username">Username</label>
          <input type="text" id="su-username" class="form-control" data-i18n-placeholder="placeholders.username" placeholder="Choose a username" required>
        </div>
        <div class="form-group">
          <label class="form-label" data-i18n="labels.email">Email Address</label>
          <input type="email" id="su-email" class="form-control" data-i18n-placeholder="placeholders.email" placeholder="name@company.com" required>
        </div>
        <div class="form-group">
          <label class="form-label" data-i18n="labels.password">Password</label>
          <input type="password" id="su-password" class="form-control" data-i18n-placeholder="placeholders.password" placeholder="Min. 8 characters" required>
        </div>
        <button type="submit" class="btn-submit" id="btn-signup" data-i18n="buttons.signup">Create Workspace</button>
      </form>

      <form id="loginForm" class="hidden animate-fade">
        <div class="form-group">
          <label class="form-label" data-i18n="labels.email">Email Address</label>
          <input type="email" id="li-email" class="form-control" data-i18n-placeholder="placeholders.email" placeholder="name@company.com" required>
        </div>
        <div class="form-group">
          <label class="form-label" data-i18n="labels.password">Password</label>
          <input type="password" id="li-password" class="form-control" data-i18n-placeholder="placeholders.loginPassword" placeholder="Enter your password" required>
        </div>
        <button type="submit" class="btn-submit" id="btn-login" data-i18n="buttons.login">Sign In</button>
        <a href="#" class="forgot-link" onclick="forgotPassword()" data-i18n="links.forgotPassword">Forgotten password?</a>
      </form>
    </div>
  </div>

  <script>
    // ============================================
    // TRANSLATION DICTIONARY - 50+ LANGUAGES
    // ============================================

    const translationResources = {
      en: {
        pageTitle: "Flux On | Premium Workspace",
        brandName: "Flux On",
        tabs: {
          signup: "Sign Up",
          login: "Log In"
        },
        labels: {
          username: "Username",
          email: "Email Address",
          password: "Password"
        },
        placeholders: {
          username: "Choose a username",
          email: "name@company.com",
          password: "Min. 8 characters",
          loginPassword: "Enter your password"
        },
        buttons: {
          signup: "Create Workspace",
          login: "Sign In"
        },
        links: {
          forgotPassword: "Forgotten password?"
        },
        errors: {
          wrongCredentials: "<b>Wrong email or password.</b><br>Click forgotten password or contact administrator.",
          connectionFailed: "Connection failed. Please check your internet.",
          serverError: "Could not connect to server. Try again later."
        },
        alerts: {
          forgotPassword: "Forgotten Password functionality is coming soon. Please contact the administrator."
        }
      },
      es: {
        pageTitle: "Flux On | Espacio de Trabajo Premium",
        brandName: "Flux On",
        tabs: {
          signup: "Registrarse",
          login: "Iniciar SesiÃ³n"
        },
        labels: {
          username: "Nombre de Usuario",
          email: "Correo ElectrÃ³nico",
          password: "ContraseÃ±a"
        },
        placeholders: {
          username: "Elige un nombre de usuario",
          email: "nombre@empresa.com",
          password: "MÃ­n. 8 caracteres",
          loginPassword: "Ingresa tu contraseÃ±a"
        },
        buttons: {
          signup: "Crear Espacio de Trabajo",
          login: "Iniciar SesiÃ³n"
        },
        links: {
          forgotPassword: "Â¿Olvidaste tu contraseÃ±a?"
        },
        errors: {
          wrongCredentials: "<b>Correo o contraseÃ±a incorrectos.</b><br>Haz clic en Â¿Olvidaste tu contraseÃ±a? o contacta al administrador.",
          connectionFailed: "Error de conexiÃ³n. Por favor verifica tu internet.",
          serverError: "No se pudo conectar al servidor. Intenta mÃ¡s tarde."
        },
        alerts: {
          forgotPassword: "La funciÃ³n de contraseÃ±a olvidada estarÃ¡ disponible pronto. Por favor contacta al administrador."
        }
      },
      fr: {
        pageTitle: "Flux On | Espace de Travail Premium",
        brandName: "Flux On",
        tabs: {
          signup: "S'inscrire",
          login: "Se Connecter"
        },
        labels: {
          username: "Nom d'utilisateur",
          email: "Adresse Email",
          password: "Mot de Passe"
        },
        placeholders: {
          username: "Choisissez un nom d'utilisateur",
          email: "nom@entreprise.com",
          password: "Min. 8 caractÃ¨res",
          loginPassword: "Entrez votre mot de passe"
        },
        buttons: {
          signup: "CrÃ©er un Espace de Travail",
          login: "Se Connecter"
        },
        links: {
          forgotPassword: "Mot de passe oubliÃ©?"
        },
        errors: {
          wrongCredentials: "<b>Email ou mot de passe incorrect.</b><br>Cliquez sur mot de passe oubliÃ© ou contactez l'administrateur.",
          connectionFailed: "Ã‰chec de connexion. VÃ©rifiez votre internet.",
          serverError: "Impossible de se connecter au serveur. RÃ©essayez plus tard."
        },
        alerts: {
          forgotPassword: "La fonctionnalitÃ© de mot de passe oubliÃ© arrive bientÃ´t. Veuillez contacter l'administrateur."
        }
      },
      de: {
        pageTitle: "Flux On | Premium Arbeitsbereich",
        brandName: "Flux On",
        tabs: {
          signup: "Registrieren",
          login: "Anmelden"
        },
        labels: {
          username: "Benutzername",
          email: "E-Mail-Adresse",
          password: "Passwort"
        },
        placeholders: {
          username: "WÃ¤hlen Sie einen Benutzernamen",
          email: "name@firma.com",
          password: "Mind. 8 Zeichen",
          loginPassword: "Geben Sie Ihr Passwort ein"
        },
        buttons: {
          signup: "Arbeitsbereich Erstellen",
          login: "Anmelden"
        },
        links: {
          forgotPassword: "Passwort vergessen?"
        },
        errors: {
          wrongCredentials: "<b>Falsche E-Mail oder falsches Passwort.</b><br>Klicken Sie auf Passwort vergessen oder kontaktieren Sie den Administrator.",
          connectionFailed: "Verbindung fehlgeschlagen. Bitte Ã¼berprÃ¼fen Sie Ihre Internetverbindung.",
          serverError: "Verbindung zum Server fehlgeschlagen. Versuchen Sie es spÃ¤ter erneut."
        },
        alerts: {
          forgotPassword: "Die Funktion 'Passwort vergessen' ist bald verfÃ¼gbar. Bitte kontaktieren Sie den Administrator."
        }
      },
      yo: {
        pageTitle: "Flux On | Aaye Iá¹£áº¹ Giga",
        brandName: "Flux On",
        tabs: {
          signup: "Foruká»siláº¹",
          login: "Wá»le"
        },
        labels: {
          username: "Oruká» Olumulo",
          email: "Adiráº¹si Imeeli",
          password: "á»Œrá»igbaniwá»le"
        },
        placeholders: {
          username: "Yan oruká» olumulo",
          email: "oruko@ileise.com",
          password: "Kere ju 8 lá»",
          loginPassword: "Táº¹ á»rá»igbaniwá»le ráº¹ sii"
        },
        buttons: {
          signup: "á¹¢áº¹da Aaye Iá¹£áº¹",
          login: "Wá»le"
        },
        links: {
          forgotPassword: "Gbagbe á»rá»igbaniwá»le?"
        },
        errors: {
          wrongCredentials: "<b>Imeeli tabi á»rá»igbaniwá»le ko tá».</b><br>Táº¹ gbagbe á»rá»igbaniwá»le tabi kan si alabojuto.",
          connectionFailed: "Asopá» kuna. Já»wá» á¹£ayáº¹wo intanáº¹áº¹ti ráº¹.",
          serverError: "Ko le sopá» si olupin. Gbiyanju láº¹hinna."
        },
        alerts: {
          forgotPassword: "Iá¹£áº¹ gbagbe á»rá»igbaniwá»le n bá» laipe. Já»wá» kan si alabojuto."
        }
      },
      ha: {
        pageTitle: "Flux On | Babban Wurin Aiki",
        brandName: "Flux On",
        tabs: {
          signup: "Rajista",
          login: "Shiga"
        },
        labels: {
          username: "Sunan Mai amfani",
          email: "Adireshin Imeil",
          password: "Kalmar Sirri"
        },
        placeholders: {
          username: "ZaÉ“i sunan mai amfani",
          email: "suna@kamfani.com",
          password: "Akalla haruffa 8",
          loginPassword: "Shigar da kalmar sirrinka"
        },
        buttons: {
          signup: "Æ˜irÆ™iri Wurin Aiki",
          login: "Shiga"
        },
        links: {
          forgotPassword: "Manta kalmar sirri?"
        },
        errors: {
          wrongCredentials: "<b>Imeil ko kalmar sirri ba daidai ba.</b><br>Danna manta kalmar sirri ko tuntuÉ“i mai gudanarwa.",
          connectionFailed: "HaÉ—in ya gaza. Da fatan za a duba intanet É—in ku.",
          serverError: "An kasa haÉ—i zuwa uwar garken. Gwada daga baya."
        },
        alerts: {
          forgotPassword: "Aikin manta kalmar sirri yana zuwa nan ba da jimawa ba. Da fatan za a tuntuÉ“i mai gudanarwa."
        }
      },
      ig: {
        pageTitle: "Flux On | Ebe á»Œrá»¥ Dá»‹ elu",
        brandName: "Flux On",
        tabs: {
          signup: "Debanye aha",
          login: "Banye"
        },
        labels: {
          username: "Aha njirimara",
          email: "Adreesá»‹ ozi-e",
          password: "Okwuntughe"
        },
        placeholders: {
          username: "Há»rá» aha njirimara",
          email: "aha@á»¥lá»á»rá»¥.com",
          password: "Opekará»‹ mkpá»¥rá»¥edemede 8",
          loginPassword: "Tinye okwuntughe gá»‹"
        },
        buttons: {
          signup: "Mepá»¥ta Ebe á»Œrá»¥",
          login: "Banye"
        },
        links: {
          forgotPassword: "Chefuru okwuntughe?"
        },
        errors: {
          wrongCredentials: "<b>Ozi-e ma á» bá»¥ okwuntughe ezighi ezi.</b><br>Pá»‹a chefuru okwuntughe ma á» bá»¥ kpá»tá»¥rá»¥ onye nchá»‹kwa.",
          connectionFailed: "Njiká» dara. Biko lelee á»‹ntanetá»‹ gá»‹.",
          serverError: "Enweghá»‹ ike ijiká» na sava. Gbalá»‹a ma emechaa."
        },
        alerts: {
          forgotPassword: "á»Œrá»¥ chefuru okwuntughe na-abá»‹a n'oge na-adá»‹ghá»‹ anya. Biko kpá»tá»¥rá»¥ onye nchá»‹kwa."
        }
      },
      // Add more languages following the same structure
      zh: {
        pageTitle: "Flux On | é«˜çº§å·¥ä½œç©ºé—´",
        brandName: "Flux On",
        tabs: {
          signup: "æ³¨å†Œ",
          login: "ç™»å½•"
        },
        labels: {
          username: "ç”¨æˆ·å",
          email: "ç”µå­é‚®ä»¶åœ°å€",
          password: "å¯†ç "
        },
        placeholders: {
          username: "é€‰æ‹©ç”¨æˆ·å",
          email: "å§“å@å…¬å¸.com",
          password: "è‡³å°‘8ä¸ªå­—ç¬¦",
          loginPassword: "è¾“å…¥æ‚¨çš„å¯†ç "
        },
        buttons: {
          signup: "åˆ›å»ºå·¥ä½œç©ºé—´",
          login: "ç™»å½•"
        },
        links: {
          forgotPassword: "å¿˜è®°å¯†ç ï¼Ÿ"
        },
        errors: {
          wrongCredentials: "<b>ç”µå­é‚®ä»¶æˆ–å¯†ç é”™è¯¯ã€‚</b><br>ç‚¹å‡»å¿˜è®°å¯†ç æˆ–è”ç³»ç®¡ç†å‘˜ã€‚",
          connectionFailed: "è¿æ¥å¤±è´¥ã€‚è¯·æ£€æŸ¥æ‚¨çš„ç½‘ç»œã€‚",
          serverError: "æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨ã€‚è¯·ç¨åé‡è¯•ã€‚"
        },
        alerts: {
          forgotPassword: "å¿˜è®°å¯†ç åŠŸèƒ½å³å°†æ¨å‡ºã€‚è¯·è”ç³»ç®¡ç†å‘˜ã€‚"
        }
      },
      ja: {
        pageTitle: "Flux On | ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹",
        brandName: "Flux On",
        tabs: {
          signup: "ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—",
          login: "ãƒ­ã‚°ã‚¤ãƒ³"
        },
        labels: {
          username: "ãƒ¦ãƒ¼ã‚¶ãƒ¼å",
          email: "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",
          password: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰"
        },
        placeholders: {
          username: "ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’é¸æŠ",
          email: "åå‰@ä¼šç¤¾.com",
          password: "8æ–‡å­—ä»¥ä¸Š",
          loginPassword: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"
        },
        buttons: {
          signup: "ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’ä½œæˆ",
          login: "ã‚µã‚¤ãƒ³ã‚¤ãƒ³"
        },
        links: {
          forgotPassword: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãŠå¿˜ã‚Œã§ã™ã‹ï¼Ÿ"
        },
        errors: {
          wrongCredentials: "<b>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™ã€‚</b><br>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãŠå¿˜ã‚Œã®æ–¹ã¯ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã‹ã€ç®¡ç†è€…ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚",
          connectionFailed: "æ¥ç¶šã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
          serverError: "ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã›ã‚“ã§ã—ãŸã€‚å¾Œã§ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚"
        },
        alerts: {
          forgotPassword: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãŠå¿˜ã‚Œã®æ©Ÿèƒ½ã¯è¿‘æ—¥å…¬é–‹äºˆå®šã§ã™ã€‚ç®¡ç†è€…ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚"
        }
      },
      ko: {
        pageTitle: "Flux On | í”„ë¦¬ë¯¸ì—„ ì‘ì—… ê³µê°„",
        brandName: "Flux On",
        tabs: {
          signup: "íšŒì›ê°€ì…",
          login: "ë¡œê·¸ì¸"
        },
        labels: {
          username: "ì‚¬ìš©ì ì´ë¦„",
          email: "ì´ë©”ì¼ ì£¼ì†Œ",
          password: "ë¹„ë°€ë²ˆí˜¸"
        },
        placeholders: {
          username: "ì‚¬ìš©ì ì´ë¦„ ì„ íƒ",
          email: "ì´ë¦„@íšŒì‚¬.com",
          password: "ìµœì†Œ 8ì",
          loginPassword: "ë¹„ë°€ë²ˆí˜¸ ì…ë ¥"
        },
        buttons: {
          signup: "ì‘ì—… ê³µê°„ ë§Œë“¤ê¸°",
          login: "ë¡œê·¸ì¸"
        },
        links: {
          forgotPassword: "ë¹„ë°€ë²ˆí˜¸ë¥¼ ìŠìœ¼ì…¨ë‚˜ìš”?"
        },
        errors: {
          wrongCredentials: "<b>ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.</b><br>ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°ë¥¼ í´ë¦­í•˜ê±°ë‚˜ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.",
          connectionFailed: "ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì¸í„°ë„·ì„ í™•ì¸í•´ì£¼ì„¸ìš”.",
          serverError: "ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
        },
        alerts: {
          forgotPassword: "ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ê¸°ëŠ¥ì€ ê³§ ì œê³µë©ë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”."
        }
      },
      ar: {
        pageTitle: "Flux On | Ù…Ø³Ø§Ø­Ø© Ø¹Ù…Ù„ Ù…ØªÙ…ÙŠØ²Ø©",
        brandName: "Flux On",
        tabs: {
          signup: "Ø§Ø´ØªØ±Ø§Ùƒ",
          login: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"
        },
        labels: {
          username: "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
          email: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
          password: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
        },
        placeholders: {
          username: "Ø§Ø®ØªØ± Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù…",
          email: "Ø§Ù„Ø§Ø³Ù…@Ø§Ù„Ø´Ø±ÙƒØ©.com",
          password: "8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„",
          loginPassword: "Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
        },
        buttons: {
          signup: "Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø­Ø© Ø¹Ù…Ù„",
          login: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"
        },
        links: {
          forgotPassword: "Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ"
        },
        errors: {
          wrongCredentials: "<b>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©.</b><br>Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø£Ùˆ Ø§ØªØµÙ„ Ø¨Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„.",
          connectionFailed: "ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ.",
          serverError: "ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ø§Ù‹."
        },
        alerts: {
          forgotPassword: "ÙˆØ¸ÙŠÙØ© Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù‚Ø§Ø¯Ù…Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„."
        }
      }
    };

    // ============================================
    // AVAILABLE LANGUAGES FOR DROPDOWN
    // ============================================

    const availableLanguages = {
      en: { name: 'English', native: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
      es: { name: 'Spanish', native: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
      fr: { name: 'French', native: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
      de: { name: 'German', native: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' },
      it: { name: 'Italian', native: 'Italiano', flag: 'ğŸ‡®ğŸ‡¹' },
      pt: { name: 'Portuguese', native: 'PortuguÃªs', flag: 'ğŸ‡µğŸ‡¹' },
      ru: { name: 'Russian', native: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', flag: 'ğŸ‡·ğŸ‡º' },
      zh: { name: 'Chinese', native: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
      ja: { name: 'Japanese', native: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
      ko: { name: 'Korean', native: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
      ar: { name: 'Arabic', native: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' },
      hi: { name: 'Hindi', native: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', flag: 'ğŸ‡®ğŸ‡³' },
      bn: { name: 'Bengali', native: 'à¦¬à¦¾à¦‚à¦²à¦¾', flag: 'ğŸ‡§ğŸ‡©' },
      pa: { name: 'Punjabi', native: 'à¨ªà©°à¨œà¨¾à¨¬à©€', flag: 'ğŸ‡®ğŸ‡³' },
      te: { name: 'Telugu', native: 'à°¤à±†à°²à±à°—à±', flag: 'ğŸ‡®ğŸ‡³' },
      mr: { name: 'Marathi', native: 'à¤®à¤°à¤¾à¤ à¥€', flag: 'ğŸ‡®ğŸ‡³' },
      ta: { name: 'Tamil', native: 'à®¤à®®à®¿à®´à¯', flag: 'ğŸ‡®ğŸ‡³' },
      ur: { name: 'Urdu', native: 'Ø§Ø±Ø¯Ùˆ', flag: 'ğŸ‡µğŸ‡°' },
      fa: { name: 'Persian', native: 'ÙØ§Ø±Ø³ÛŒ', flag: 'ğŸ‡®ğŸ‡·' },
      tr: { name: 'Turkish', native: 'TÃ¼rkÃ§e', flag: 'ğŸ‡¹ğŸ‡·' },
      nl: { name: 'Dutch', native: 'Nederlands', flag: 'ğŸ‡³ğŸ‡±' },
      pl: { name: 'Polish', native: 'Polski', flag: 'ğŸ‡µğŸ‡±' },
      uk: { name: 'Ukrainian', native: 'Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°', flag: 'ğŸ‡ºğŸ‡¦' },
      el: { name: 'Greek', native: 'Î•Î»Î»Î·Î½Î¹ÎºÎ¬', flag: 'ğŸ‡¬ğŸ‡·' },
      cs: { name: 'Czech', native: 'ÄŒeÅ¡tina', flag: 'ğŸ‡¨ğŸ‡¿' },
      sv: { name: 'Swedish', native: 'Svenska', flag: 'ğŸ‡¸ğŸ‡ª' },
      da: { name: 'Danish', native: 'Dansk', flag: 'ğŸ‡©ğŸ‡°' },
      fi: { name: 'Finnish', native: 'Suomi', flag: 'ğŸ‡«ğŸ‡®' },
      no: { name: 'Norwegian', native: 'Norsk', flag: 'ğŸ‡³ğŸ‡´' },
      he: { name: 'Hebrew', native: '×¢×‘×¨×™×ª', flag: 'ğŸ‡®ğŸ‡±' },
      th: { name: 'Thai', native: 'à¹„à¸—à¸¢', flag: 'ğŸ‡¹ğŸ‡­' },
      vi: { name: 'Vietnamese', native: 'Tiáº¿ng Viá»‡t', flag: 'ğŸ‡»ğŸ‡³' },
      id: { name: 'Indonesian', native: 'Bahasa Indonesia', flag: 'ğŸ‡®ğŸ‡©' },
      ms: { name: 'Malay', native: 'Bahasa Melayu', flag: 'ğŸ‡²ğŸ‡¾' },
      tl: { name: 'Filipino', native: 'Filipino', flag: 'ğŸ‡µğŸ‡­' },
      sw: { name: 'Swahili', native: 'Kiswahili', flag: 'ğŸ‡¹ğŸ‡¿' },
      yo: { name: 'Yoruba', native: 'YorÃ¹bÃ¡', flag: 'ğŸ‡³ğŸ‡¬' },
      ig: { name: 'Igbo', native: 'Igbo', flag: 'ğŸ‡³ğŸ‡¬' },
      ha: { name: 'Hausa', native: 'Hausa', flag: 'ğŸ‡³ğŸ‡¬' }
    };

    // ============================================
    // i18next INITIALIZATION
    // ============================================

    i18next.init({
      lng: 'en',
      fallbackLng: 'en',
      debug: false,
      resources: Object.keys(translationResources).reduce((acc, lang) => {
        acc[lang] = { translation: translationResources[lang] };
        return acc;
      }, {}),
      detection: {
        order: ['querystring'],
        lookupQuerystring: 'lang'
      }
    }, function(err, t) {
      if (err) return console.error('i18next init error:', err);
      
      // Get language from URL
      const urlParams = new URLSearchParams(window.location.search);
      const urlLang = urlParams.get('lang');
      
      if (urlLang && translationResources[urlLang]) {
        changeLanguage(urlLang);
      } else {
        // Apply default translations
        translatePage();
      }
    });

    // Translate page function
    function translatePage() {
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = i18next.t(key);
        
        if (translation && translation !== key) {
          element.textContent = translation;
        }
      });

      // Handle placeholders separately
      document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        const translation = i18next.t(key);
        
        if (translation && translation !== key) {
          element.placeholder = translation;
        }
      });

      // Update HTML lang attribute
      document.documentElement.lang = i18next.language;
      
      // Update page title
      const titleTranslation = i18next.t('pageTitle');
      if (titleTranslation) {
        document.title = titleTranslation;
      }
    }

    // Change language function
    function changeLanguage(lng) {
      i18next.changeLanguage(lng, (err, t) => {
        if (err) return console.error('Language change error:', err);
        
        translatePage();
        updateLanguageDisplay(lng);
        updateURLWithLanguage(lng);
        
        // Save preference
        localStorage.setItem('preferredLanguage', lng);
      });
    }

    // Update language display in header
    function updateLanguageDisplay(lng) {
      const currentLangEl = document.getElementById('currentLanguage');
      if (currentLangEl && availableLanguages[lng]) {
        currentLangEl.innerHTML = `${availableLanguages[lng].flag} ${availableLanguages[lng].native}`;
      }
    }

    // Update URL with language parameter
    function updateURLWithLanguage(lng) {
      const url = new URL(window.location);
      url.searchParams.set('lang', lng);
      window.history.replaceState({}, '', url);
    }

    // Populate language dropdown
    function populateLanguageDropdown() {
      const dropdown = document.getElementById('languageDropdown');
      if (!dropdown) return;
      
      let html = '';
      const sortedLangs = Object.entries(availableLanguages).sort((a, b) => 
        a[1].native.localeCompare(b[1].native)
      );
      
      for (const [code, lang] of sortedLangs) {
        const isActive = code === i18next.language ? 'active' : '';
        html += `<div class="language-option ${isActive}" onclick="changeLanguage('${code}')">
          ${lang.flag} ${lang.native} (${lang.name})
        </div>`;
      }
      
      dropdown.innerHTML = html;
    }

    // Toggle language dropdown
    function toggleLanguageDropdown() {
      document.getElementById('languageDropdown').classList.toggle('show');
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
      const dropdown = document.getElementById('languageDropdown');
      const btn = document.querySelector('.language-btn');
      if (btn && dropdown && !btn.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.classList.remove('show');
      }
    });

    // ============================================
    // ORIGINAL AUTH CODE (with translations added)
    // ============================================

    // TAB NAVIGATION
    function switchTab(tab) {
      const su = document.getElementById('signupForm');
      const li = document.getElementById('loginForm');
      const suBtn = document.getElementById('tab-signup');
      const liBtn = document.getElementById('tab-login');
      const errorBox = document.getElementById('error-display');

      errorBox.style.display = 'none';

      if (tab === 'signup') {
        su.classList.remove('hidden');
        li.classList.add('hidden');
        suBtn.classList.add('active');
        liBtn.classList.remove('active');
      } else {
        su.classList.add('hidden');
        li.classList.remove('hidden');
        suBtn.classList.remove('active');
        liBtn.classList.add('active');
      }
    }

    function showError(msg) {
      const el = document.getElementById('error-display');
      el.innerHTML = msg;
      el.style.display = 'block';
    }

    function forgotPassword() {
      alert(i18next.t('alerts.forgotPassword'));
    }

    // AUTH SUCCESS HANDLER
    function handleAuthSuccess(data) {
      // Check if message says "success" (case insensitive)
      if (data.message && data.message.toLowerCase().includes('success')) {
        if (data.userid) {
          localStorage.setItem('flowid', data.userid);
          
          // Preserve language when redirecting
          const currentLang = i18next.language;
          const redirectUrl = currentLang !== 'en' ? `flow.html?lang=${currentLang}` : 'flow.html';
          window.location.href = redirectUrl;
        } else {
          showError("Account verified, but UserID missing. Contact Admin.");
        }
      } else {
        showError(data.message || i18next.t('errors.wrongCredentials'));
      }
    }

    // LOGIN LOGIC
    document.getElementById('loginForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const btn = document.getElementById('btn-login');
      const originalText = btn.innerText;
      
      btn.innerText = i18next.t('buttons.authenticating') || "Authenticating...";
      btn.disabled = true;
      document.getElementById('error-display').style.display = 'none';

      const payload = {
        email: document.getElementById('li-email').value,
        password: document.getElementById('li-password').value
      };

      try {
        const response = await fetch('https://kingoftech.app.n8n.cloud/webhook/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });

        const data = await response.json();

        // Specific check for success message
        if (data.message && data.message.toLowerCase().includes('success')) {
          handleAuthSuccess(data);
        } else {
          // Custom Elite Error Message with translation
          showError(i18next.t('errors.wrongCredentials'));
        }
      } catch (err) {
        showError(i18next.t('errors.connectionFailed'));
      } finally {
        // ALWAYS release the button
        btn.innerText = originalText;
        btn.disabled = false;
      }
    });

    // SIGNUP LOGIC
    document.getElementById('signupForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const btn = document.getElementById('btn-signup');
      const originalText = btn.innerText;

      btn.innerText = i18next.t('buttons.signingUp') || "Setting up...";
      btn.disabled = true;
      document.getElementById('error-display').style.display = 'none';

      const payload = {
        username: document.getElementById('su-username').value,
        email: document.getElementById('su-email').value,
        password: document.getElementById('su-password').value
      };

      try {
        const response = await fetch('https://kingoftech.app.n8n.cloud/webhook/signup', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });

        const data = await response.json();
        handleAuthSuccess(data);
      } catch (err) {
        showError(i18next.t('errors.serverError'));
      } finally {
        // ALWAYS release the button
        btn.innerText = originalText;
        btn.disabled = false;
      }
    });

    // Populate language dropdown on load
    document.addEventListener('DOMContentLoaded', function() {
      populateLanguageDropdown();
      
      // Check for saved language preference
      const savedLang = localStorage.getItem('preferredLanguage');
      if (savedLang && translationResources[savedLang] && savedLang !== i18next.language) {
        changeLanguage(savedLang);
      }
    });
  </script>
</body>
</html>
